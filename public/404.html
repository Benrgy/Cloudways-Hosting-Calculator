
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Cloudways Calculator - Redirecting...</title>
    <script type="text/javascript">
      // Only log in development
      if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
        console.log("=== 404.html REDIRECT STARTING ===");
        console.log("Current location:", window.location.href);
        console.log("Pathname:", window.location.pathname);
        console.log("Search:", window.location.search);
        console.log("Hash:", window.location.hash);
      }
      
      // GitHub Pages SPA redirect for cloudways-savings-calculator
      var l = window.location;
      var pathSegments = l.pathname.split('/').filter(function(segment) {
        return segment.length > 0;
      });
      
      if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
        console.log("Path segments:", pathSegments);
      }
      
      // Remove 'Cloudways-Hosting-Calculator' from path if it exists
      if (pathSegments[0] === 'Cloudways-Hosting-Calculator') {
        pathSegments.shift();
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
          console.log("Removed repo name, remaining segments:", pathSegments);
        }
      }
      
      // Build the redirect path
      var redirectPath = pathSegments.length > 0 ? '/' + pathSegments.join('/') : '/';
      
      // Handle search params and hash
      var searchParams = l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '';
      var hashParams = l.hash || '';
      
      // Construct the final redirect URL
      var redirect = l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
        '/Cloudways-Hosting-Calculator/' + '?/' + redirectPath.slice(1) + searchParams + hashParams;
      
      if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
        console.log("Final redirect URL:", redirect);
      }
      
      // Store the redirect info in sessionStorage for the main app
      sessionStorage.setItem('github-pages-redirect', JSON.stringify({
        originalPath: l.pathname,
        redirectPath: redirectPath,
        timestamp: Date.now()
      }));
      
      // Perform the redirect
      l.replace(redirect);
    </script>
  </head>
  <body>
    <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; min-height: 100vh; display: flex; align-items: center; justify-content: center;">
      <div>
        <div style="font-size: 48px; margin-bottom: 20px;">ðŸ”„</div>
        <h2 style="margin: 0 0 10px 0;">Redirecting to Cloudways Calculator...</h2>
        <p style="margin: 0; opacity: 0.8;">If you are not redirected automatically, <a href="/Cloudways-Hosting-Calculator/" style="color: #fff; text-decoration: underline;">click here</a>.</p>
      </div>
    </div>
  </body>
</html>
